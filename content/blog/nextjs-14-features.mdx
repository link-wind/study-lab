---
title: "Next.js 14 æ–°ç‰¹æ€§è¯¦è§£"
description: "æ·±å…¥äº†è§£ Next.js 14 å¸¦æ¥çš„æ–°ç‰¹æ€§å’Œæ”¹è¿›"
date: "2024-01-15"
tags: ["Next.js", "React", "å‰ç«¯", "æ•™ç¨‹"]
image: "/images/nextjs-features.svg"
---

# Next.js 14 æ–°ç‰¹æ€§è¯¦è§£

Next.js 14 å¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥æ·±å…¥äº†è§£è¿™äº›æ”¹è¿›ã€‚

## ğŸš€ Turbopack ç¨³å®šç‰ˆ

Next.js 14 å°† Turbopack ä½œä¸ºç¨³å®šåŠŸèƒ½å‘å¸ƒï¼Œæä¾›äº†æ›´å¿«çš„å¼€å‘ä½“éªŒã€‚

```javascript
// next.config.js
module.exports = {
  experimental: {
    turbo: {},
  },
}
```

## ğŸ“± Server Actions

Server Actions ç°åœ¨æ›´åŠ ç¨³å®šå’Œå¼ºå¤§ï¼Œç®€åŒ–äº†æ•°æ®å˜æ›´çš„å¤„ç†ã€‚

```javascript
// app/actions.js
'use server'

export async function createPost(formData) {
  const title = formData.get('title')
  const content = formData.get('content')
  
  // æ•°æ®åº“æ“ä½œ
  await db.post.create({
    data: { title, content }
  })
  
  revalidatePath('/blog')
}
```

```jsx
// app/create-post.js
import { createPost } from './actions'

export function CreatePost() {
  return (
    <form action={createPost}>
      <input name="title" placeholder="æ ‡é¢˜" />
      <textarea name="content" placeholder="å†…å®¹" />
      <button type="submit">åˆ›å»ºæ–‡ç« </button>
    </form>
  )
}
```

## ğŸ¯ Partial Prerendering

éƒ¨åˆ†é¢„æ¸²æŸ“åŠŸèƒ½å…è®¸ä½ æ··åˆä½¿ç”¨é™æ€å’ŒåŠ¨æ€å†…å®¹ã€‚

```jsx
// app/page.js
export default function Page() {
  return (
    <main>
      <StaticComponent />
      <Suspense fallback={<Loading />}>
        <DynamicComponent />
      </Suspense>
    </main>
  )
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

Next.js 14 åœ¨æ€§èƒ½æ–¹é¢åšäº†å¾ˆå¤šä¼˜åŒ–ï¼š

- **æ›´å¿«çš„æ„å»ºæ—¶é—´**: é€šè¿‡æ”¹è¿›çš„ç¼–è¯‘å™¨ä¼˜åŒ–
- **æ›´å°çš„åŒ…ä½“ç§¯**: è‡ªåŠ¨ä»£ç åˆ†å‰²å’Œä¼˜åŒ–
- **æ›´å¥½çš„ç¼“å­˜ç­–ç•¥**: æ”¹è¿›çš„å®¢æˆ·ç«¯ç¼“å­˜æœºåˆ¶

## ğŸ¨ Metadata API æ”¹è¿›

Metadata API ç°åœ¨æ”¯æŒæ›´å¤šçš„é…ç½®é€‰é¡¹ï¼š

```javascript
// app/layout.js
export const metadata = {
  title: {
    template: '%s | My App',
    default: 'My App',
  },
  description: 'My App description',
  openGraph: {
    title: 'My App',
    description: 'My App description',
    images: ['/og-image.png'],
  },
}
```

## ğŸ”§ å¼€å‘ä½“éªŒæ”¹è¿›

### æ›´å¥½çš„é”™è¯¯ä¿¡æ¯

Next.js 14 æä¾›äº†æ›´æ¸…æ™°å’Œæœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ï¼š

```
Error: Failed to fetch data
  at fetchData (app/api/data/route.js:10:15)
  at async GET (app/api/data/route.js:5:20)

Possible solutions:
1. Check your network connection
2. Verify the API endpoint is correct
3. Check server logs for more details
```

### æ”¹è¿›çš„ TypeScript æ”¯æŒ

æ›´å¥½çš„ç±»å‹æ¨æ–­å’Œè‡ªåŠ¨å®Œæˆï¼š

```typescript
// app/page.tsx
import { Metadata } from 'next'

export const metadata: Metadata = {
  title: 'My Page',
  description: 'Page description',
}
```

## ğŸš€ å‡çº§æŒ‡å—

ä» Next.js 13 å‡çº§åˆ° 14 å¾ˆç®€å•ï¼š

```bash
npm install next@latest react@latest react-dom@latest
```

ç„¶åæ£€æŸ¥ä½ çš„ `next.config.js` æ–‡ä»¶ï¼Œç¡®ä¿å…¼å®¹æ–°ç‰¹æ€§ã€‚

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

æ ¹æ®å®˜æ–¹åŸºå‡†æµ‹è¯•ï¼ŒNext.js 14 åœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ˜¾è‘—æå‡ï¼š

- **æœ¬åœ°å¼€å‘**: å¿« 53%
- **ç”Ÿäº§æ„å»º**: å¿« 18%
- **å†…å­˜ä½¿ç”¨**: å‡å°‘ 25%

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ Server Components

å°½å¯èƒ½ä½¿ç”¨ Server Components æ¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼š

```jsx
// app/page.js (Server Component)
export default async function Page() {
  const data = await fetchData()
  return <div>{data.content}</div>
}
```

### 2. åˆç†ä½¿ç”¨ Client Components

åªåœ¨éœ€è¦å®¢æˆ·ç«¯äº¤äº’æ—¶ä½¿ç”¨ Client Componentsï¼š

```jsx
'use client'

export function InteractiveButton() {
  const [count, setCount] = useState(0)
  
  return (
    <button onClick={() => setCount(count + 1)}>
      ç‚¹å‡»äº† {count} æ¬¡
    </button>
  )
}
```

### 3. ä¼˜åŒ–å›¾ç‰‡åŠ è½½

ä½¿ç”¨ Next.js Image ç»„ä»¶ï¼š

```jsx
import Image from 'next/image'

export function OptimizedImage() {
  return (
    <Image
      src="/image.jpg"
      alt="æè¿°"
      width={800}
      height={600}
      priority
    />
  )
}
```

## ğŸ”® æœªæ¥å±•æœ›

Next.js å›¢é˜Ÿæ­£åœ¨å¼€å‘æ›´å¤šä»¤äººå…´å¥‹çš„åŠŸèƒ½ï¼š

- **æ›´å¼ºå¤§çš„ Server Actions**
- **æ”¹è¿›çš„å¼€å‘è€…ä½“éªŒ**
- **æ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–**

---

Next.js 14 æ˜¯ä¸€ä¸ªé‡è¦çš„é‡Œç¨‹ç¢‘ï¼Œä¸º React å¼€å‘å¸¦æ¥äº†æ›´å¥½çš„ä½“éªŒå’Œæ€§èƒ½ã€‚ç«‹å³å‡çº§åˆ° Next.js 14ï¼Œäº«å—è¿™äº›æ–°ç‰¹æ€§å§ï¼

> æƒ³äº†è§£æ›´å¤šï¼Ÿè®¿é—® [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)